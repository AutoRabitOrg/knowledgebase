# Configure a Webhook in Visual Studio GIT

## A. Create a Webhook API token from ARM

1. Log in to ARM.
2. Click on Admin Section -> API Token.
3. Click on Create API Token.

<figure><img src="../../../../../.gitbook/assets/image (991).png" alt=""><figcaption></figcaption></figure>

4. Enter the token name.
5. Select Type as “webhook.”
6. Enter Description if required.
7. Click on Create Option.

<figure><img src="../../../../../.gitbook/assets/image (992).png" alt=""><figcaption></figcaption></figure>

8. Your new API token is created.

## B. Create a webhook with authentication in Visual Studio Git

1. Log in to Microsoft Visual Studio Git Account.
2.  Go to your project Service Hooks page:

    https://{orgName}/{projectname}/settings/serviceHooks

<figure><img src="../../../../../.gitbook/assets/image (993).png" alt=""><figcaption></figcaption></figure>

3. Click on Create Subscription.
4. The wizard will start and give a list of all the services for which integration is to be created.

<figure><img src="../../../../../.gitbook/assets/image (994).png" alt="" width="563"><figcaption></figcaption></figure>

5. Click on Next and you will see a list of triggers when an event occurs. Select the event to initiate the trigger and any filters (if applicable):

<figure><img src="../../../../../.gitbook/assets/image (995).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../../.gitbook/assets/image (996).png" alt=""><figcaption></figcaption></figure>

6. The next step is to provide the payload URL. The payload URL is the URL of the server that will receive the webhook POST requests. Paste the copied URL generated by AutoRABIT or enter the payload URL manually.\
   Payload URL: < instance\_url>/api/webhook/v2/\<orgname>/trigger-scm-push-request\
   For example: If the instance is https://login.autorabit.com, then the payload URL would be: [https://login.autorabit.com/api/webhook/v2/autorabit.com/trigger-scm-push-request](https://login.autorabit.com/api/webhook/v2/autorabit.com/trigger-scm-push-request)
7. Add the basic authentication details below:\
   Basic authentication username: ARM login username.\
   Basic authentication password: Webhook type API token generated from ARM.

<figure><img src="../../../../../.gitbook/assets/image (997).png" alt=""><figcaption></figcaption></figure>

8. Enter the Username used in AutoRABIT and password as webhook API Token generated in ARM.

{% hint style="info" %}
[**Note:** If any type of trigger event, such as Pull Request and Pull Request updated, is required, use the same hook configuration with the above URL and respective authentication details.](#user-content-fn-1)[^1]
{% endhint %}

9. Confirm the settings are correct, test the subscription, and then finish the wizard.

<figure><img src="../../../../../.gitbook/assets/image (998).png" alt="" width="563"><figcaption></figcaption></figure>

10. Click on the Finish button to complete the service hook subscription. The webhook can be seen in the Service Hooks tab.

<figure><img src="../../../../../.gitbook/assets/image (999).png" alt=""><figcaption></figcaption></figure>

11. Once the build is triggered via webhook and completed successfully, refresh the service hook tab to verify that the webhook succeeded. You can also view the history of webhooks to see how many times the event was triggered and whether the webhook was completed successfully.

## Smart Commits

In this section, you can select the pattern used to read the comment in a revision associated with your ALM story. For example, _'git commit m \[project123] # add README file into the project'._

<figure><img src="../../../../../.gitbook/assets/image (990).png" alt="" width="563"><figcaption></figcaption></figure>

If you want to configure a webhook in your repository, select the Enable auto update on webhook checkbox to reveal the URL required for the webhook settings. For more information on how to configure a webhook in different repositories, refer [HERE](file://product-guides/arm/arm-features/webhooks). You can also choose to [sync external smart commits](file://product-guides/arm/arm-features/version-control/introduction-to-version-control/version-control-repositories-summary).

## For Enterprise customers

/api/webhook/v2/\<orgname>/`enterprise`/trigger-scm-push-request

/api/webhook/v2/\<orgname>/`enterprise`/sync-alm-commits

[^1]: 
